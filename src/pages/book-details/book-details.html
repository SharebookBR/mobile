<ion-header>
  <ion-navbar>
    <ion-title>{{book?.title}}</ion-title>

    <ion-buttons right>
      <button ion-button (click)="openBookRequest()" [disabled]="alreadyRequested === undefined || alreadyRequested">
        Solicitar
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item tappable text-center class="book-cover" (click)="openBookCover()">
    <img [src]="book?.imageUrl">
  </ion-item>

  <ion-item no-lines *ngIf="alreadyRequested === undefined" text-center>
    <ion-spinner name="dots"></ion-spinner>
  </ion-item>

  <ion-item no-lines class="already-requested" *ngIf="alreadyRequested">
    Você já solicitou esse livro.<br>
    Aguarde e boa sorte!
  </ion-item>

  <ion-item>
    <p>Título</p>
    <h4>{{book?.title}}</h4>
  </ion-item>

  <ion-item>
    <p>Autor</p>
    <h4>{{book?.author}}</h4>
  </ion-item>

  <ion-item>
    <p>Categoria</p>
    <h4>{{book?.category?.name}}</h4>
  </ion-item>

  <ion-item>
    <p>Cidade:</p>
    <h4>{{book.user.city || '-'}}</h4>
  </ion-item>

  <ion-item>
    <p>Estado:</p>
    <h4>{{book.user.state || '-'}}</h4>
  </ion-item>

  <ion-item>
    <p>Doador paga o frete:</p>
    <h4>{{freightLabels[book?.freightOption]}}</h4>
  </ion-item>
</ion-content>
